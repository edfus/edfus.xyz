const CDNname="https://cdn.jsdelivr.net/gh/edfus/storage",fontsCacheName="fontsCache-1.0",fonts=[{name:"筑紫A丸ゴシック",url:CDNname+"/fonts/筑紫A丸ゴシック.woff2",unicodeRange:"U+4E00-9FCB"},{name:"Consolas",url:CDNname+"/fonts/Consolas.woff2",unicodeRange:"U+0000-007F"}];{"caches"in window&&"serviceWorker"in navigator&&(caches.keys().then(n=>{n.length&&fonts.forEach(n=>{caches.match(n.url).then(o=>{null===o?navigator.serviceWorker.controller?window.addEventListener("load",()=>{navigator.serviceWorker.controller.postMessage(n)}):console.info("Service Worker is redundant. Grieve."):e(n.name,n.url)})})}),window.addEventListener("load",(function(){navigator.serviceWorker.register("/serviceWorker-cache.js",{scope:"/"}).then((function(e){e.installing&&console.log("[ServiceWorker] installing")})).catch((function(e){console.log("Registration failed with "+e)})),navigator.serviceWorker.addEventListener("message",(function(n){e(n.data.name,n.data.url)}))})));const e=(e,n)=>{if(!Array.from(document.fonts).some(n=>n.family===e)){let o=new FontFace(e,`url("${n}")`,{style:"normal",weight:"400"});o.load().then((function(){document.fonts.add(o)})),console.log(e+" added")}}}