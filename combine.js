function work(){const e=[{name:"筑紫A丸ゴシック",url:"https://cdn.jsdelivr.net/gh/edfus/storage/fonts/筑紫A丸ゴシック.woff2",unicodeRange:"U+4E00-9FCB",type:"font/woff2"},{name:"Consolas",url:"https://cdn.jsdelivr.net/gh/edfus/storage/fonts/Consolas.woff2",unicodeRange:"U+0000-007F",type:"font/woff2"}];(()=>{let e=indexedDB.open("Fonts_Database",1);return new Promise((n,o)=>{e.onsuccess=e=>n(e.target.result),e.onerror=e=>o(Error("woah",e.target.error)),e.onupgradeneeded=e=>{0===e.oldVersion&&e.target.result.createObjectStore("fonts",{keyPath:"name",autoIncrement:!1}).createIndex("fontURLindex","url",{unique:!0})}})})().then(n=>{const o=n.transaction("fonts","readonly").objectStore("fonts");e.forEach(e=>{let r=o.get(e.name);r.onsuccess=o=>{let r=o.target.result;var t,a;void 0!==r?postMessage({name:r.name,url:URL.createObjectURL((t=r.arrayBuffer,a=r.type,new Blob([t],{type:a}))),unicodeRange:r.unicodeRange}):"connection"in navigator&&!navigator.connection.saveData?fetch(new Request(e.url,{method:"GET",headers:new Headers,mode:"cors",redirect:"follow"})).then(e=>{if(e.ok)return e.blob();console.dir(e)}).then(o=>{var r;postMessage({name:e.name,url:URL.createObjectURL(o),unicodeRange:e.unicodeRange}),(r=o,new Promise((e,n)=>{const o=new FileReader;o.addEventListener("loadend",n=>{e(o.result)}),o.addEventListener("error",n),o.readAsArrayBuffer(r)})).then(o=>{n.transaction("fonts","readwrite").objectStore("fonts").add({name:e.name,unicodeRange:e.unicodeRange,type:e.type,arrayBuffer:o})})}).catch(e=>console.error(e)):console.info("[Metered Network?] Download "+e.name+" cancelled.")},r.onerror=e=>Error(e.error)})})}if("indexedDB"in window&&"Worker"in window){new Worker(URL.createObjectURL(new Blob([`(${work})()`],{type:"application/javascript"})),{type:"module"}).onmessage=e=>{((n=e.data.name,o=e.data.url)=>{if(!Array.from(document.fonts).some(e=>e.family===n)){let e=new FontFace(n,`url("${o}")`,{style:"normal",weight:"400",display:"fallback"});e.load().then((function(){document.fonts.add(e)})),console.log(n+" added")}})()}}"caches"in window&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/serviceWorker.js",{scope:"/"}).then(e=>{e.installing&&console.log("[ServiceWorker] installing")}).catch(e=>{console.log("Registration failed with "+e)})},{passive:!0,once:!0});